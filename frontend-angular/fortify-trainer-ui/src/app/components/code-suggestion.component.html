<div class="suggestion-container">
  <h2>Sugerir CorreÃ§Ã£o de CÃ³digo</h2>

  <label for="tipo">Tipo de vulnerabilidade:</label>
  <input id="tipo" [(ngModel)]="tipo" placeholder="Ex: SQL Injection" />

  <label for="codigo">CÃ³digo vulnerÃ¡vel:</label>
  <textarea id="codigo" [(ngModel)]="codigo" placeholder="Cole seu cÃ³digo aqui..." rows="8"></textarea>

  <div class="button-row">
    <button (click)="sugerirCorrecao()">Sugerir CorreÃ§Ã£o</button>
    <button (click)="cadastrarCorrecao()">Cadastrar CorreÃ§Ã£o</button>
  </div>

  <!-- â³ GIF de carregamento -->
  <div *ngIf="loading" class="loading-container">
    <img src="https://i.gifer.com/YCZH.gif" alt="Carregando..." class="loading-gif" />
    <p>Gerando sugestÃ£o de correÃ§Ã£o...</p>
  </div>

  <!-- âš ï¸ Timeout / Erro -->
  <div *ngIf="timeoutMsg" class="erro-msg">
    <p>{{ timeoutMsg }}</p>
  </div>

  <div *ngIf="similaridade !== null" class="simil-box">
    <strong>ğŸ” Similaridade encontrada:</strong> {{ similaridade | number:'1.2-2' }}
  </div>

  <!-- âœ… Resposta com destaque de sintaxe -->
  <div *ngIf="respostaCompleta" class="resultado-container" highlight>
    <h4>Resposta da API:</h4>

    <div class="code-block" *ngIf="respostaCompleta">
      <pre><code class="language-java">{{ respostaCompleta }}</code></pre>
      <button class="copy-btn" (click)="copiarCodigo()">ğŸ“‹ Copiar</button>
    </div>

  </div>

  <div style="margin-top: 2rem; text-align: center;">
    <a routerLink="/listar" class="ver-apontamentos-link">ğŸ” Ver Apontamentos Cadastrados</a>
  </div>

  <!-- Novo link para Falsos Positivos -->
  <div style="margin-top: 2rem; text-align: center;">
    <a routerLink="/falsopositivo" class="ver-falsos-positivos-link">ğŸ” Ver Falsos Positivos</a>
  </div>
</div>
