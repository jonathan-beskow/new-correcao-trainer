# ğŸ Imagem base Python slim
FROM python:3.9-slim

# ğŸ“‚ Define diretÃ³rio de trabalho
WORKDIR /app

# ğŸ› ï¸ Instala dependÃªncias de sistema necessÃ¡rias
ENV DEBIAN_FRONTEND=noninteractive
RUN apt-get update && apt-get install -y \
    git \
    bash \
    build-essential \
    libopenblas-dev \
    libomp-dev \
    && rm -rf /var/lib/apt/lists/*

# ğŸ“¦ Instala dependÃªncias Python
COPY requirements.txt .
RUN pip install --upgrade pip && pip install -r requirements.txt

# ğŸ§  Copia todo o conteÃºdo da aplicaÃ§Ã£o para dentro do container
COPY . .

# ğŸŒ ExpÃµe a porta padrÃ£o do FastAPI
EXPOSE 8000

# ğŸš€ Inicia o servidor da aplicaÃ§Ã£o FastAPI
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
